{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ash\\\\Desktop\\\\React\\\\your-favorite-place\\\\src\\\\locations\\\\pages\\\\UserLocations.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useContext } from \"react\"; ////////// check if userId === context.user ID\n\nimport { useParams, useLocation, useNavigate } from \"react-router-dom\";\nimport { AuthContext } from \"../../shared/contex/auth-context\"; /////////////\n\nimport LoadingSpinner from \"../../shared/components/UiElements/LoadingSpinner\";\nimport LocationList from \"../components/location-list/LocationList\";\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\nimport Card from \"../../shared/components/UiElements/Card\";\nimport Button from \"../../shared/components/FormElements/Button\";\nimport { AiOutlineArrowLeft, AiOutlinePlus } from 'react-icons/ai'; // const STATIC_PLACES = [\n//     {\n//         id: 'p1',\n//         title: 'Empire State Building',\n//         description: 'One of the most famous buildings in the world',\n//         imageUrl: 'https://www.stockvault.net/data/2020/01/22/272769/preview16.jpg',\n//         address: 'New York, NY 10001, USA',\n//         coordinates: {\n//             lat: 40.7485492,\n//             lng: -73.9857635\n//         },\n//         creator: 'u1'\n//     },\n//     {\n//         id: 'p2',\n//         title: 'Burj Khalifa',\n//         description: 'The tallest building in the world!',\n//         imageUrl: 'https://embriture.org/wp-content/uploads/2021/09/Burj-portrait-lagre_tcm25-475749.jpg',\n//         address: '1 Sheikh Mohammed bin Rashid Blvd - Downtown Dubai - Dubai - United Arab Emirates',\n//         coordinates: {\n//             lat: 25.1972018,\n//             lng: 55.2721824\n//         },\n//         creator: 'u2'\n//     },\n//     {\n//         id: 'p3',\n//         title: 'Machu Picchu',\n//         description: 'A large 15th-century Inca city',\n//         imageUrl: 'https://images.pexels.com/photos/2929906/pexels-photo-2929906.jpeg',\n//         address: 'Machu Picchu, Peru',\n//         coordinates: {\n//             lat: -13.1631412,\n//             lng: -72.5471516\n//         },\n//         creator: 'u2'\n//     },\n//     {\n//         id: 'p4',\n//         title: 'The Dead Sea',\n//         description: 'Lowest point on Earth, a salt-rich lake surrounded by desert beaches and mineral',\n//         imageUrl: 'https://www.onthegotours.com/blog/wp-content/uploads/2019/03/Aerial-view-of-the-Dead-Sea.jpg',\n//         address: 'Dead Sea, Israel',\n//         coordinates: {\n//             lat: 31.1635756,\n//             lng: 35.3671583\n//         },\n//         creator: 'u3'\n//     },\n// ];\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserLocations = () => {\n  _s();\n\n  const auth = useContext(AuthContext);\n  const [loadedPlaces, setLoadedPlaces] = useState();\n  const {\n    isLoading,\n    error,\n    sendRequest,\n    clearError\n  } = useHttpClient();\n  const userId = useParams().userId;\n  const navigate = useNavigate();\n  const [isHomePage, setHomePage] = useState(false);\n  const currPath = useLocation();\n  useEffect(() => {\n    currPath.pathname === \"/\" ? setHomePage(true) : setHomePage(false);\n\n    const fetchPlaces = async () => {\n      try {\n        const responseData = await sendRequest(`http://localhost:5000/api/places/user/${userId}`);\n        setLoadedPlaces(responseData.places);\n      } catch (error) {}\n    };\n\n    fetchPlaces();\n  }, [sendRequest, currPath]);\n\n  const placeDeleteHandler = deletedPlaceId => {\n    setLoadedPlaces(prevPlaces => prevPlaces.filter(place => place.id !== deletedPlaceId));\n  };\n\n  const backHandler = () => {\n    navigate('/users');\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [!isHomePage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"go-center\",\n      onClick: backHandler,\n      children: [/*#__PURE__*/_jsxDEV(AiOutlineArrowLeft, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }, this), \" Back\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }, this), !isHomePage && loadedPlaces && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"center\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        inverse: true,\n        to: \"../places/new\",\n        children: [/*#__PURE__*/_jsxDEV(AiOutlinePlus, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 15\n        }, this), \" Add New\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"center\",\n      children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 11\n    }, this), !isLoading && loadedPlaces && /*#__PURE__*/_jsxDEV(LocationList, {\n      items: loadedPlaces,\n      onDeletePlace: placeDeleteHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }, this), auth.userId === userId && !isLoading && !loadedPlaces && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"place-list center\",\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"No Location Found maybe create on?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          to: \"/places/new\",\n          children: \" Share a Place\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }, this) || !isLoading && !loadedPlaces && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"center\",\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"No Places Found For This User!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 7\n  }, this);\n};\n\n_s(UserLocations, \"WzGZk00MJxJzZVoOUNp5KIB5lVA=\", false, function () {\n  return [useHttpClient, useParams, useNavigate, useLocation];\n});\n\n_c = UserLocations;\nexport default UserLocations;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserLocations\");","map":{"version":3,"names":["React","useEffect","useState","useContext","useParams","useLocation","useNavigate","AuthContext","LoadingSpinner","LocationList","useHttpClient","Card","Button","AiOutlineArrowLeft","AiOutlinePlus","UserLocations","auth","loadedPlaces","setLoadedPlaces","isLoading","error","sendRequest","clearError","userId","navigate","isHomePage","setHomePage","currPath","pathname","fetchPlaces","responseData","places","placeDeleteHandler","deletedPlaceId","prevPlaces","filter","place","id","backHandler"],"sources":["C:/Users/Ash/Desktop/React/your-favorite-place/src/locations/pages/UserLocations.js"],"sourcesContent":["import React, {useEffect, useState, useContext} from \"react\"; ////////// check if userId === context.user ID\r\nimport { useParams, useLocation, useNavigate } from \"react-router-dom\";\r\n\r\n\r\nimport { AuthContext } from \"../../shared/contex/auth-context\"; /////////////\r\nimport LoadingSpinner from \"../../shared/components/UiElements/LoadingSpinner\";\r\nimport LocationList from \"../components/location-list/LocationList\";\r\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\r\nimport Card from \"../../shared/components/UiElements/Card\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\nimport { AiOutlineArrowLeft,AiOutlinePlus } from 'react-icons/ai';\r\n\r\n\r\n// const STATIC_PLACES = [\r\n//     {\r\n//         id: 'p1',\r\n//         title: 'Empire State Building',\r\n//         description: 'One of the most famous buildings in the world',\r\n//         imageUrl: 'https://www.stockvault.net/data/2020/01/22/272769/preview16.jpg',\r\n//         address: 'New York, NY 10001, USA',\r\n//         coordinates: {\r\n//             lat: 40.7485492,\r\n//             lng: -73.9857635\r\n//         },\r\n//         creator: 'u1'\r\n//     },\r\n//     {\r\n//         id: 'p2',\r\n//         title: 'Burj Khalifa',\r\n//         description: 'The tallest building in the world!',\r\n//         imageUrl: 'https://embriture.org/wp-content/uploads/2021/09/Burj-portrait-lagre_tcm25-475749.jpg',\r\n//         address: '1 Sheikh Mohammed bin Rashid Blvd - Downtown Dubai - Dubai - United Arab Emirates',\r\n//         coordinates: {\r\n//             lat: 25.1972018,\r\n//             lng: 55.2721824\r\n//         },\r\n//         creator: 'u2'\r\n//     },\r\n//     {\r\n//         id: 'p3',\r\n//         title: 'Machu Picchu',\r\n//         description: 'A large 15th-century Inca city',\r\n//         imageUrl: 'https://images.pexels.com/photos/2929906/pexels-photo-2929906.jpeg',\r\n//         address: 'Machu Picchu, Peru',\r\n//         coordinates: {\r\n//             lat: -13.1631412,\r\n//             lng: -72.5471516\r\n//         },\r\n//         creator: 'u2'\r\n//     },\r\n//     {\r\n//         id: 'p4',\r\n//         title: 'The Dead Sea',\r\n//         description: 'Lowest point on Earth, a salt-rich lake surrounded by desert beaches and mineral',\r\n//         imageUrl: 'https://www.onthegotours.com/blog/wp-content/uploads/2019/03/Aerial-view-of-the-Dead-Sea.jpg',\r\n//         address: 'Dead Sea, Israel',\r\n//         coordinates: {\r\n//             lat: 31.1635756,\r\n//             lng: 35.3671583\r\n//         },\r\n//         creator: 'u3'\r\n//     },\r\n// ];\r\n\r\n\r\nconst UserLocations = () => {\r\n    const auth = useContext(AuthContext);\r\n\r\n    const [loadedPlaces, setLoadedPlaces] = useState();\r\n    const {isLoading, error, sendRequest, clearError} = useHttpClient();\r\n\r\n    const userId = useParams().userId;\r\n    const navigate = useNavigate();\r\n\r\n    const [isHomePage, setHomePage] = useState(false);\r\n  \r\n    const currPath = useLocation();\r\n\r\n    useEffect( () => {\r\n        currPath.pathname === \"/\" ? setHomePage(true) : setHomePage(false);\r\n        const fetchPlaces = async () => {\r\n            try {\r\n                const responseData = await sendRequest(\r\n                    `http://localhost:5000/api/places/user/${userId}`\r\n                );\r\n                setLoadedPlaces(responseData.places);\r\n            } catch (error) {}\r\n        }\r\n        fetchPlaces();\r\n    }, [sendRequest, currPath]);\r\n\r\n    const placeDeleteHandler = deletedPlaceId => {\r\n        setLoadedPlaces(prevPlaces => prevPlaces.filter(place => place.id !== deletedPlaceId));\r\n    }\r\n\r\n    const backHandler = () =>{\r\n        navigate('/users')\r\n    }\r\n  \r\n    \r\n    return (\r\n      <React.Fragment>\r\n\r\n        {!isHomePage && (\r\n          <div className=\"go-center\" onClick={backHandler}>\r\n            <AiOutlineArrowLeft /> Back\r\n          </div>\r\n        )}\r\n\r\n        {!isHomePage && loadedPlaces && (\r\n            \r\n          <div className=\"center\">\r\n            <Button inverse to=\"../places/new\">\r\n              <AiOutlinePlus /> Add New\r\n            </Button>\r\n          </div>\r\n        )}\r\n\r\n        {isLoading && (\r\n          <div className=\"center\">\r\n            <LoadingSpinner />\r\n          </div>\r\n        )}\r\n        {!isLoading && loadedPlaces && (\r\n          <LocationList\r\n            items={loadedPlaces}\r\n            onDeletePlace={placeDeleteHandler}\r\n          />\r\n        )}\r\n\r\n        {(auth.userId === userId && !isLoading && !loadedPlaces && (\r\n          <div className=\"place-list center\">\r\n            <Card>\r\n              <h2>No Location Found maybe create on?</h2>\r\n              <Button to=\"/places/new\"> Share a Place</Button>\r\n            </Card>\r\n          </div>\r\n        )) ||\r\n          (!isLoading && !loadedPlaces && (\r\n            <div className=\"center\">\r\n              <Card>\r\n                <h2>No Places Found For This User!</h2>\r\n              </Card>\r\n            </div>\r\n          ))}\r\n      </React.Fragment>\r\n    ); \r\n}\r\nexport default UserLocations;"],"mappings":"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"},"metadata":{},"sourceType":"module"}