{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ash\\\\Desktop\\\\React\\\\your-favorite-place\\\\src\\\\locations\\\\pages\\\\NewLocation.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { VALIDATOR_MINLENGTH, VALIDATOR_REQUIRE } from \"../../shared/util/validators\";\nimport LoadingSpinner from \"../../shared/components/UiElements/LoadingSpinner\";\nimport ErrorModal from \"../../shared/components/UiElements/ErrorModal\";\nimport Button from \"../../shared/components/FormElements/Button\";\nimport Input from \"../../shared/components/FormElements/Input\";\nimport { AuthContext } from \"../../shared/contex/auth-context\";\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\nimport { useForm } from \"../../shared/hooks/form-hook\";\nimport \"./LocationForm.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst NewLocation = () => {\n  _s();\n\n  const auth = useContext(AuthContext);\n  const {\n    isLoading,\n    error,\n    sendRequest,\n    clearError\n  } = useHttpClient();\n  const [formState, inputHandler] = useForm({\n    title: {\n      value: '',\n      isValid: false\n    },\n    description: {\n      value: '',\n      isValid: false\n    },\n    address: {\n      value: '',\n      isValid: false\n    }\n  }, false);\n  const navigate = useNavigate();\n\n  const submitHandler = async event => {\n    event.preventDefault();\n\n    try {\n      await sendRequest(\"http://localhost:5000/api/places\", \"POST\", JSON.stringify({\n        title: formState.inputs.title.value,\n        description: formState.inputs.description.value,\n        address: formState.inputs.address.value,\n        creator: auth.userId\n      }), {\n        \"Content-type\": \"application/json\"\n      });\n      navigate('/');\n    } catch (error) {}\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ErrorModal, {\n      error: error,\n      onClear: clearError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"place-form\",\n      onSubmit: submitHandler,\n      children: [isLoading && /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n        asOverlay: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        id: \"title\",\n        element: \"input\",\n        type: \"text\",\n        label: \"Title\",\n        validators: [VALIDATOR_REQUIRE()],\n        errorText: \"Enter a valid title!\",\n        onInput: inputHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        id: \"description\",\n        element: \"textarea\",\n        label: \"Description\",\n        validators: [VALIDATOR_MINLENGTH(5)],\n        errorText: \"Enter a valid description! at least 5 characters\",\n        onInput: inputHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        id: \"address\",\n        element: \"input\",\n        label: \"Address\",\n        validators: [VALIDATOR_REQUIRE()],\n        errorText: \"Enter a valid address!\",\n        onInput: inputHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        disabled: !formState.isValid,\n        children: \"Add Place\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        danger: true,\n        to: `../${auth.userId}/places`,\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n};\n\n_s(NewLocation, \"ek6H2JRMRv7FMtV9h3lMH/1M638=\", false, function () {\n  return [useHttpClient, useForm, useNavigate];\n});\n\n_c = NewLocation;\nexport default NewLocation;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewLocation\");","map":{"version":3,"names":["React","useContext","useNavigate","VALIDATOR_MINLENGTH","VALIDATOR_REQUIRE","LoadingSpinner","ErrorModal","Button","Input","AuthContext","useHttpClient","useForm","NewLocation","auth","isLoading","error","sendRequest","clearError","formState","inputHandler","title","value","isValid","description","address","navigate","submitHandler","event","preventDefault","JSON","stringify","inputs","creator","userId"],"sources":["C:/Users/Ash/Desktop/React/your-favorite-place/src/locations/pages/NewLocation.js"],"sourcesContent":["import React, { useContext } from \"react\";\r\nimport { useNavigate  } from \"react-router-dom\";\r\n\r\nimport { VALIDATOR_MINLENGTH, VALIDATOR_REQUIRE } from \"../../shared/util/validators\";\r\nimport LoadingSpinner from \"../../shared/components/UiElements/LoadingSpinner\";\r\nimport ErrorModal from \"../../shared/components/UiElements/ErrorModal\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\nimport Input from \"../../shared/components/FormElements/Input\";\r\nimport { AuthContext } from \"../../shared/contex/auth-context\";\r\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\r\nimport { useForm } from \"../../shared/hooks/form-hook\";\r\nimport \"./LocationForm.css\";\r\n\r\n\r\nconst NewLocation = () => {\r\n    const auth = useContext(AuthContext);\r\n    const {isLoading, error, sendRequest, clearError} = useHttpClient();\r\n    const [formState, inputHandler] = useForm({\r\n        title: {\r\n            value: '',\r\n            isValid: false\r\n        },\r\n        description: {\r\n            value: '',\r\n            isValid: false\r\n        },\r\n        address: {\r\n            value: '',\r\n            isValid: false\r\n        }\r\n    }, false);\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const submitHandler = async event => {\r\n        event.preventDefault();\r\n        try {\r\n            \r\n            await sendRequest(\"http://localhost:5000/api/places\", \"POST\",\r\n                JSON.stringify({\r\n                    title:formState.inputs.title.value,\r\n                    description:formState.inputs.description.value,\r\n                    address:formState.inputs.address.value,\r\n                    creator: auth.userId\r\n                }),\r\n                {\r\n                    \"Content-type\": \"application/json\"\r\n                }\r\n            );\r\n            navigate('/');\r\n        } catch (error) {}\r\n    };\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <ErrorModal error={error} onClear={clearError} />\r\n        <br></br>\r\n        <form className=\"place-form\" onSubmit={submitHandler}>\r\n            {isLoading && <LoadingSpinner asOverlay />}\r\n            <Input \r\n                id=\"title\"\r\n                element=\"input\" \r\n                type=\"text\" \r\n                label=\"Title\" \r\n                validators={[VALIDATOR_REQUIRE()]} \r\n                errorText=\"Enter a valid title!\" \r\n                onInput= {inputHandler}\r\n            />\r\n            <Input \r\n                id=\"description\"\r\n                element=\"textarea\" \r\n                label=\"Description\" \r\n                validators={[VALIDATOR_MINLENGTH(5)]} \r\n                errorText=\"Enter a valid description! at least 5 characters\" \r\n                onInput= {inputHandler}\r\n            />\r\n            <Input \r\n                id=\"address\"\r\n                element=\"input\" \r\n                label=\"Address\" \r\n                validators={[VALIDATOR_REQUIRE()]} \r\n                errorText=\"Enter a valid address!\" \r\n                onInput= {inputHandler}\r\n            />\r\n            <Button type=\"submit\" disabled={!formState.isValid}>Add Place</Button>\r\n            <Button danger to={`../${auth.userId}/places`} >Cancel</Button>\r\n        </form>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default NewLocation;"],"mappings":"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"},"metadata":{},"sourceType":"module"}