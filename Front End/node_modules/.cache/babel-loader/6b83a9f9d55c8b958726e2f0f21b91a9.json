{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ash\\\\Desktop\\\\React\\\\your-favorite-place\\\\Front End\\\\src\\\\locations\\\\pages\\\\UserLocations.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useContext } from \"react\";\nimport { useParams, useLocation, useNavigate } from \"react-router-dom\";\nimport LoadingSpinner from \"../../shared/components/UiElements/LoadingSpinner\";\nimport LocationList from \"../components/location-list/LocationList\";\nimport { AiOutlineArrowLeft, AiOutlinePlus } from 'react-icons/ai';\nimport Button from \"../../shared/components/FormElements/Button\";\nimport { AuthContext } from \"../../shared/contex/auth-context\";\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\nimport Card from \"../../shared/components/UiElements/Card\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserLocations = () => {\n  _s();\n\n  const [isHomePage, setHomePage] = useState(false);\n  const [loadedPlaces, setLoadedPlaces] = useState();\n  const {\n    isLoading,\n    error,\n    sendRequest,\n    clearError\n  } = useHttpClient();\n  const auth = useContext(AuthContext);\n  const userId = useParams().userId;\n  const navigate = useNavigate();\n  const currPath = useLocation();\n  useEffect(() => {\n    currPath.pathname === \"/\" ? setHomePage(true) : setHomePage(false);\n\n    const fetchPlaces = async () => {\n      try {\n        const responseData = await sendRequest(`http://localhost:5000/api/places/user/${userId}`);\n        setLoadedPlaces(responseData.places);\n      } catch (error) {}\n    };\n\n    fetchPlaces();\n  }, [sendRequest, currPath]);\n\n  const placeDeleteHandler = deletedPlaceId => {\n    setLoadedPlaces(prevPlaces => prevPlaces.filter(place => place.id !== deletedPlaceId));\n  };\n\n  const backHandler = () => {\n    navigate('/users');\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: \"20px\"\n      },\n      children: !isHomePage && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          cursor: \"pointer\"\n        },\n        onClick: backHandler,\n        children: [/*#__PURE__*/_jsxDEV(AiOutlineArrowLeft, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }, this), \" Back\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this), !isHomePage && loadedPlaces && userId === auth.userId && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"center\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        inverse: true,\n        to: \"../places/new\",\n        children: [/*#__PURE__*/_jsxDEV(AiOutlinePlus, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 15\n        }, this), \" Add New\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"center\",\n      children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }, this), !isLoading && loadedPlaces && /*#__PURE__*/_jsxDEV(LocationList, {\n      items: loadedPlaces,\n      onDeletePlace: placeDeleteHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }, this), auth.userId === userId && !isLoading && !loadedPlaces && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"place-list center\",\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"No Location Found maybe create on?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          to: \"/places/new\",\n          children: \" Share a Place\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }, this) || !isLoading && !loadedPlaces && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"center\",\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"No Places Found For This User!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 7\n  }, this);\n};\n\n_s(UserLocations, \"Nz965cWCO44RCwA56xVYdSEGjPU=\", false, function () {\n  return [useHttpClient, useParams, useNavigate, useLocation];\n});\n\n_c = UserLocations;\nexport default UserLocations;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserLocations\");","map":{"version":3,"names":["React","useEffect","useState","useContext","useParams","useLocation","useNavigate","LoadingSpinner","LocationList","AiOutlineArrowLeft","AiOutlinePlus","Button","AuthContext","useHttpClient","Card","UserLocations","isHomePage","setHomePage","loadedPlaces","setLoadedPlaces","isLoading","error","sendRequest","clearError","auth","userId","navigate","currPath","pathname","fetchPlaces","responseData","places","placeDeleteHandler","deletedPlaceId","prevPlaces","filter","place","id","backHandler","margin","cursor"],"sources":["C:/Users/Ash/Desktop/React/your-favorite-place/Front End/src/locations/pages/UserLocations.js"],"sourcesContent":["import React, {useEffect, useState, useContext} from \"react\";\r\nimport { useParams, useLocation, useNavigate } from \"react-router-dom\";\r\n\r\n\r\nimport LoadingSpinner from \"../../shared/components/UiElements/LoadingSpinner\";\r\nimport LocationList from \"../components/location-list/LocationList\";\r\nimport { AiOutlineArrowLeft, AiOutlinePlus } from 'react-icons/ai';\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\nimport { AuthContext } from \"../../shared/contex/auth-context\";\r\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\r\nimport Card from \"../../shared/components/UiElements/Card\";\r\n\r\n\r\nconst UserLocations = () => {\r\n    \r\n    const [isHomePage, setHomePage] = useState(false);\r\n    const [loadedPlaces, setLoadedPlaces] = useState();\r\n    const {isLoading, error, sendRequest, clearError} = useHttpClient();\r\n    \r\n    const auth = useContext(AuthContext);\r\n    const userId = useParams().userId;\r\n    const navigate = useNavigate();\r\n    const currPath = useLocation();\r\n\r\n    \r\n        useEffect( () => {\r\n            currPath.pathname === \"/\" ? setHomePage(true) : setHomePage(false);\r\n            const fetchPlaces = async () => {\r\n                try {\r\n                    const responseData = await sendRequest(\r\n                        `http://localhost:5000/api/places/user/${userId}`\r\n                    );\r\n                    setLoadedPlaces(responseData.places);\r\n                } catch (error) {}\r\n            }\r\n            fetchPlaces();\r\n        }, [sendRequest, currPath]);\r\n  \r\n\r\n    const placeDeleteHandler = deletedPlaceId => {\r\n        setLoadedPlaces(prevPlaces => prevPlaces.filter(place => place.id !== deletedPlaceId));\r\n    }\r\n\r\n    const backHandler = () =>{\r\n        navigate('/users');\r\n    }\r\n  \r\n    \r\n    return (\r\n      <React.Fragment>\r\n\r\n        <div style={{margin: \"20px\"}}>\r\n            {!isHomePage && (\r\n            <span style= {{cursor: \"pointer\"}} onClick={backHandler}>\r\n                <AiOutlineArrowLeft /> Back\r\n            </span>\r\n            )}\r\n        </div>\r\n\r\n        {!isHomePage && loadedPlaces && userId === auth.userId  && (\r\n          <div className=\"center\">\r\n            <Button inverse to=\"../places/new\">\r\n              <AiOutlinePlus /> Add New\r\n            </Button>\r\n          </div>\r\n        )}\r\n\r\n        {isLoading && (\r\n          <div className=\"center\">\r\n            <LoadingSpinner />\r\n          </div>\r\n        )}\r\n        {!isLoading && loadedPlaces && (\r\n          <LocationList\r\n            items={loadedPlaces}\r\n            onDeletePlace={placeDeleteHandler}\r\n          />\r\n        )}\r\n\r\n        {(auth.userId === userId && !isLoading && !loadedPlaces && (\r\n          <div className=\"place-list center\">\r\n            <Card>\r\n              <h2>No Location Found maybe create on?</h2>\r\n              <Button to=\"/places/new\"> Share a Place</Button>\r\n            </Card>\r\n          </div>\r\n        )) ||\r\n          (!isLoading && !loadedPlaces && (\r\n            <div className=\"center\">\r\n              <Card>\r\n                <h2>No Places Found For This User!</h2>\r\n              </Card>\r\n            </div>\r\n          ))}\r\n      </React.Fragment>\r\n    ); \r\n}\r\nexport default UserLocations;"],"mappings":"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"},"metadata":{},"sourceType":"module"}