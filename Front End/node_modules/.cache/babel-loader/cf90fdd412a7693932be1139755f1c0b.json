{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ash\\\\Desktop\\\\React\\\\your-favorite-place\\\\src\\\\locations\\\\pages\\\\NewLocation.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext } from \"react\";\nimport \"./LocationForm.css\";\nimport Input from \"../../shared/components/FormElements/Input\";\nimport Button from \"../../shared/components/FormElements/Button\";\nimport { VALIDATOR_MINLENGTH, VALIDATOR_REQUIRE } from \"../../shared/util/validators\";\nimport { useForm } from \"../../shared/hooks/form-hook\";\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\nimport { AuthContext } from \"../../shared/contex/auth-context\";\nimport ErrorModal from \"../../shared/components/UiElements/ErrorModal\";\nimport LoadingSpinner from \"../../shared/components/UiElements/LoadingSpinner\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst NewLocation = () => {\n  _s();\n\n  const auth = useContext(AuthContext);\n  const {\n    isLoading,\n    error,\n    sendRequest,\n    clearError\n  } = useHttpClient();\n  const [formState, inputHandler] = useForm({\n    title: {\n      value: '',\n      isValid: false\n    },\n    description: {\n      value: '',\n      isValid: false\n    },\n    address: {\n      value: '',\n      isValid: false\n    }\n  }, false);\n\n  const submitHandler = async event => {\n    event.preventDefault();\n\n    try {\n      await sendRequest(\"http://localhost:5000/api/places\", \"POST\", JSON.stringify({\n        title: formState.inputs.title.value,\n        description: formState.inputs.description.value,\n        address: formState.inputs.address.value,\n        creator: auth.userId\n      }));\n    } catch (error) {}\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ErrorModal, {\n      error: error,\n      onClear: clearError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"place-form\",\n      onSubmit: submitHandler,\n      children: [isLoading && /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n        asOverlay: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        id: \"title\",\n        element: \"input\",\n        type: \"text\",\n        label: \"Title\",\n        validators: [VALIDATOR_REQUIRE()],\n        errorText: \"Enter a valid title!\",\n        onInput: inputHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        id: \"description\",\n        element: \"textarea\",\n        label: \"Description\",\n        validators: [VALIDATOR_MINLENGTH(5)],\n        errorText: \"Enter a valid description! at least 5 characters\",\n        onInput: inputHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        id: \"address\",\n        element: \"input\",\n        label: \"Address\",\n        validators: [VALIDATOR_REQUIRE()],\n        errorText: \"Enter a valid address!\",\n        onInput: inputHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        disabled: !formState.isValid,\n        children: \"Add Place\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n};\n\n_s(NewLocation, \"lezo1R29k6PMfYoyEOUFLJy4oKE=\", false, function () {\n  return [useHttpClient, useForm];\n});\n\n_c = NewLocation;\nexport default NewLocation;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewLocation\");","map":{"version":3,"names":["React","useContext","Input","Button","VALIDATOR_MINLENGTH","VALIDATOR_REQUIRE","useForm","useHttpClient","AuthContext","ErrorModal","LoadingSpinner","NewLocation","auth","isLoading","error","sendRequest","clearError","formState","inputHandler","title","value","isValid","description","address","submitHandler","event","preventDefault","JSON","stringify","inputs","creator","userId"],"sources":["C:/Users/Ash/Desktop/React/your-favorite-place/src/locations/pages/NewLocation.js"],"sourcesContent":["import React, { useContext } from \"react\";\r\nimport \"./LocationForm.css\";\r\nimport Input from \"../../shared/components/FormElements/Input\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\nimport { VALIDATOR_MINLENGTH, VALIDATOR_REQUIRE } from \"../../shared/util/validators\";\r\nimport { useForm } from \"../../shared/hooks/form-hook\";\r\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\r\nimport { AuthContext } from \"../../shared/contex/auth-context\";\r\nimport ErrorModal from \"../../shared/components/UiElements/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UiElements/LoadingSpinner\";\r\n\r\n\r\nconst NewLocation = () => {\r\n    const auth = useContext(AuthContext);\r\n    const {isLoading, error, sendRequest, clearError} = useHttpClient();\r\n    const [formState, inputHandler] = useForm({\r\n        title: {\r\n            value: '',\r\n            isValid: false\r\n        },\r\n        description: {\r\n            value: '',\r\n            isValid: false\r\n        },\r\n        address: {\r\n            value: '',\r\n            isValid: false\r\n        }\r\n    }, false);\r\n\r\n    \r\n\r\n    const submitHandler = async event => {\r\n        event.preventDefault();\r\n        try {\r\n            \r\n            await sendRequest(\"http://localhost:5000/api/places\", \"POST\",\r\n                JSON.stringify({\r\n                    title:formState.inputs.title.value,\r\n                    description:formState.inputs.description.value,\r\n                    address:formState.inputs.address.value,\r\n                    creator: auth.userId\r\n                })\r\n            );\r\n        } catch (error) {}\r\n    };\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <ErrorModal error={error} onClear={clearError} />\r\n\r\n        <form className=\"place-form\" onSubmit={submitHandler}>\r\n            {isLoading && <LoadingSpinner asOverlay />}\r\n            <Input \r\n                id=\"title\"\r\n                element=\"input\" \r\n                type=\"text\" \r\n                label=\"Title\" \r\n                validators={[VALIDATOR_REQUIRE()]} \r\n                errorText=\"Enter a valid title!\" \r\n                onInput= {inputHandler}\r\n            />\r\n            <Input \r\n                id=\"description\"\r\n                element=\"textarea\" \r\n                label=\"Description\" \r\n                validators={[VALIDATOR_MINLENGTH(5)]} \r\n                errorText=\"Enter a valid description! at least 5 characters\" \r\n                onInput= {inputHandler}\r\n            />\r\n            <Input \r\n                id=\"address\"\r\n                element=\"input\" \r\n                label=\"Address\" \r\n                validators={[VALIDATOR_REQUIRE()]} \r\n                errorText=\"Enter a valid address!\" \r\n                onInput= {inputHandler}\r\n            />\r\n            <Button type=\"submit\" disabled={!formState.isValid}>Add Place</Button>\r\n        </form>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default NewLocation;"],"mappings":"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"},"metadata":{},"sourceType":"module"}