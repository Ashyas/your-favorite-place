{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ash\\\\Desktop\\\\React\\\\your-favorite-place\\\\Front End\\\\src\\\\locations\\\\pages\\\\NewLocation.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { VALIDATOR_MINLENGTH, VALIDATOR_REQUIRE } from \"../../shared/util/validators\";\nimport LoadingSpinner from \"../../shared/components/UiElements/LoadingSpinner\";\nimport ImageUplaod from \"../../shared/components/FormElements/ImageUplaod\";\nimport ErrorModal from \"../../shared/components/UiElements/ErrorModal\";\nimport Button from \"../../shared/components/FormElements/Button\";\nimport Input from \"../../shared/components/FormElements/Input\";\nimport { AuthContext } from \"../../shared/contex/auth-context\";\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\nimport { useForm } from \"../../shared/hooks/form-hook\";\nimport \"./LocationForm.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst NewLocation = () => {\n  _s();\n\n  const auth = useContext(AuthContext);\n  const {\n    isLoading,\n    error,\n    sendRequest,\n    clearError\n  } = useHttpClient();\n  const [formState, inputHandler] = useForm({\n    title: {\n      value: '',\n      isValid: false\n    },\n    description: {\n      value: '',\n      isValid: false\n    },\n    address: {\n      value: '',\n      isValid: false\n    },\n    image: {\n      value: null,\n      isValid: false\n    }\n  }, false);\n  const navigate = useNavigate();\n\n  const submitHandler = async event => {\n    event.preventDefault();\n\n    try {\n      const formData = new FormData();\n      formData.append('title', formState.inputs.title.value);\n      formData.append('description', formState.inputs.description.value);\n      formData.append('address', formState.inputs.address.value);\n      formData.append('image', formState.inputs.image.value);\n      formData.append('creator', auth.userId);\n      await sendRequest(\"http://localhost:5000/api/places\", \"POST\", formData, {\n        Authorization: \"Bearer \" + auth.token\n      });\n      navigate('/');\n    } catch (error) {}\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ErrorModal, {\n      error: error,\n      onClear: clearError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"place-form\",\n      onSubmit: submitHandler,\n      children: [isLoading && /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n        asOverlay: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        id: \"title\",\n        element: \"input\",\n        type: \"text\",\n        label: \"Title\",\n        validators: [VALIDATOR_REQUIRE()],\n        errorText: \"Enter a valid title!\",\n        onInput: inputHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        id: \"description\",\n        element: \"textarea\",\n        label: \"Description\",\n        validators: [VALIDATOR_MINLENGTH(5)],\n        errorText: \"Enter a valid description! at least 5 characters\",\n        onInput: inputHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(ImageUplaod, {\n        id: \"image\",\n        onInput: inputHandler // errorText=\"Upload an Image\" \n\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        id: \"address\",\n        element: \"input\",\n        label: \"Address\",\n        validators: [VALIDATOR_REQUIRE()],\n        errorText: \"Enter a valid address!\",\n        onInput: inputHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        disabled: !formState.isValid,\n        children: \"Add Place\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        danger: true,\n        to: `../${auth.userId}/places`,\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 9\n  }, this);\n};\n\n_s(NewLocation, \"ek6H2JRMRv7FMtV9h3lMH/1M638=\", false, function () {\n  return [useHttpClient, useForm, useNavigate];\n});\n\n_c = NewLocation;\nexport default NewLocation;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewLocation\");","map":{"version":3,"names":["React","useContext","useNavigate","VALIDATOR_MINLENGTH","VALIDATOR_REQUIRE","LoadingSpinner","ImageUplaod","ErrorModal","Button","Input","AuthContext","useHttpClient","useForm","NewLocation","auth","isLoading","error","sendRequest","clearError","formState","inputHandler","title","value","isValid","description","address","image","navigate","submitHandler","event","preventDefault","formData","FormData","append","inputs","userId","Authorization","token"],"sources":["C:/Users/Ash/Desktop/React/your-favorite-place/Front End/src/locations/pages/NewLocation.js"],"sourcesContent":["import React, { useContext } from \"react\";\r\nimport { useNavigate  } from \"react-router-dom\";\r\n\r\nimport { VALIDATOR_MINLENGTH, VALIDATOR_REQUIRE } from \"../../shared/util/validators\";\r\nimport LoadingSpinner from \"../../shared/components/UiElements/LoadingSpinner\";\r\nimport ImageUplaod from \"../../shared/components/FormElements/ImageUplaod\";\r\nimport ErrorModal from \"../../shared/components/UiElements/ErrorModal\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\nimport Input from \"../../shared/components/FormElements/Input\";\r\nimport { AuthContext } from \"../../shared/contex/auth-context\";\r\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\r\nimport { useForm } from \"../../shared/hooks/form-hook\";\r\nimport \"./LocationForm.css\";\r\n\r\n\r\nconst NewLocation = () => {\r\n    const auth = useContext(AuthContext);\r\n    const {isLoading, error, sendRequest, clearError} = useHttpClient();\r\n    const [formState, inputHandler] = useForm({\r\n        title: {\r\n            value: '',\r\n            isValid: false\r\n        },\r\n        description: {\r\n            value: '',\r\n            isValid: false\r\n        },\r\n        address: {\r\n            value: '',\r\n            isValid: false\r\n        },\r\n        image: {\r\n            value: null,\r\n            isValid: false\r\n        }\r\n    }, false);\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const submitHandler = async event => {\r\n        event.preventDefault();\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append('title', formState.inputs.title.value);\r\n            formData.append('description', formState.inputs.description.value);\r\n            formData.append('address', formState.inputs.address.value);\r\n            formData.append('image', formState.inputs.image.value);\r\n            formData.append('creator', auth.userId);\r\n            \r\n            await sendRequest(\"http://localhost:5000/api/places\", \r\n                \"POST\",\r\n                formData,\r\n                {\r\n                    Authorization: \"Bearer \" + auth.token\r\n                }\r\n            );\r\n            navigate('/');\r\n        } catch (error) {}\r\n    };\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <ErrorModal error={error} onClear={clearError} />\r\n        <br></br>\r\n        <form className=\"place-form\" onSubmit={submitHandler}>\r\n            {isLoading && <LoadingSpinner asOverlay />}\r\n            <Input \r\n                id=\"title\"\r\n                element=\"input\" \r\n                type=\"text\" \r\n                label=\"Title\" \r\n                validators={[VALIDATOR_REQUIRE()]} \r\n                errorText=\"Enter a valid title!\" \r\n                onInput= {inputHandler}\r\n            />\r\n            <Input \r\n                id=\"description\"\r\n                element=\"textarea\" \r\n                label=\"Description\" \r\n                validators={[VALIDATOR_MINLENGTH(5)]} \r\n                errorText=\"Enter a valid description! at least 5 characters\" \r\n                onInput= {inputHandler}\r\n            />\r\n            <ImageUplaod \r\n                id=\"image\" \r\n                onInput={inputHandler} \r\n                // errorText=\"Upload an Image\" \r\n            />\r\n            <Input \r\n                id=\"address\"\r\n                element=\"input\" \r\n                label=\"Address\" \r\n                validators={[VALIDATOR_REQUIRE()]} \r\n                errorText=\"Enter a valid address!\" \r\n                onInput= {inputHandler}\r\n            />\r\n            \r\n            <Button type=\"submit\" disabled={!formState.isValid}>Add Place</Button>\r\n            <Button danger to={`../${auth.userId}/places`} >Cancel</Button>\r\n        </form>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default NewLocation;"],"mappings":"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"},"metadata":{},"sourceType":"module"}